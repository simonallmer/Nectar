<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nectar</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Main Menu -->
    <div id="main-menu" class="menu-screen">
        <h1 class="game-title">NECTAR</h1>
        <div class="menu-buttons">
            <button class="menu-btn" onclick="showPlayerSelection()">START GAME</button>
            <button class="menu-btn" onclick="showRules()">RULES</button>
            <button class="menu-btn" onclick="window.location.href='https://simonallmer.com'">BACK TO SA</button>
        </div>
        <div class="copyright">© 2021-2025 Simon Allmer Entertainment</div>
    </div>

    <!-- Player Selection Screen -->
    <div id="player-selection" class="menu-screen" style="display: none;">
        <h1 class="game-title">SELECT PLAYERS</h1>
        <div class="player-buttons">
            <button class="player-btn" onclick="selectPlayerCount(2)">2</button>
            <button class="player-btn" onclick="selectPlayerCount(3)">3</button>
            <button class="player-btn" onclick="selectPlayerCount(4)">4</button>
            <button class="player-btn" onclick="selectPlayerCount(5)">5</button>
            <button class="player-btn" onclick="selectPlayerCount(6)">6</button>
        </div>

        <!-- Player Names Section (hidden initially) -->
        <div id="player-names-section" style="display: none; margin-top: 30px;">
            <h2 style="color: #d4af37; font-size: 24px; margin-bottom: 20px;">Enter Player Names (Optional)</h2>
            <div id="player-name-inputs"></div>
            <div style="display: flex; flex-direction: column; align-items: center; gap: 15px; margin-top: 20px;">
                <button class="menu-btn" onclick="startGameWithNames()">BEGIN GAME</button>
                <button class="menu-btn back-btn" onclick="showMainMenu()">BACK</button>
            </div>
        </div>
    </div>

    <!-- Rules Modal -->
    <div id="rules-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-btn" onclick="closeRules()">&times;</span>
            <h2>NECTAR RULES</h2>
            <div class="rules-text">
                <h3>GOAL</h3>
                <p>The goal of the game is to be the first to collect 10 Nectar points and bring them to your home
                    honeycomb.</p>

                <h3>GAMEPLAY</h3>
                <p>The game runs clockwise. At the beginning of each turn, the weather determines where Nectar Tokens
                    land. There is a 50% chance that tokens land on the board. Each value (1, 2, 4) has the same chance
                    of appearing.</p>

                <p>After the tokens are placed, the player can move.</p>

                <p>A player has to move at least one of their bees.</p>

                <p>Each bee can move one field per turn.</p>

                <p>When a bee enters its home honeycomb, the Nectar Tokens' value is added to the SCORE and the tokens
                    are removed from the playing field.</p>

                <p>Nectar Tokens can be used as a BOOST. The bee carrying the token moves forward by as many fields as
                    the Nectar is worth.</p>

                <p>New Nectar Tokens can only be picked up when the previous movement is finished.</p>

                <p>To transport the Nectar more efficiently, bees can also form a CHAIN. They are positioned next to
                    each other and the load is transported without using any steps. The load is passed on to any bee in
                    the chain.</p>

                <p>Without Nectar, a bee cannot be attacked and is therefore suitable as a BLOCKADE.</p>

                <p>No bee can be overflown or share a field with other bees.</p>

                <p>If a player has moved every bee they wanted to move (at least one), their round ends and the next
                    player begins.</p>

                <h3>END</h3>
                <p>As soon as the first player has reached a Nectar value of at least 10, they win the game.</p>

                <h3>MORE PLAYERS</h3>
                <p>If there are between 4 and 6 players, only 2 figures per colony are used. The 1 and 2 Nectar Tokens
                    now land on the same Nectar Token fields.</p>
            </div>
        </div>
    </div>

    <!-- Game Container -->
    <div id="game-container" style="display: none;">
        <div id="ui-layer" style="position: absolute; top: 20px; left: 20px; z-index: 100;">
            <div id="weather-display"
                style="margin-top: 10px; font-size: 24px; color: white; background: rgba(0,0,0,0.5); padding: 10px; border-radius: 5px;">
            </div>
            <button id="options-btn" onclick="toggleOptions()">⚙️</button>
        </div>

        <!-- Options Modal -->
        <div id="options-modal" class="modal" style="display: none;">
            <div class="modal-content options-content">
                <h2>PAUSED</h2>

                <div id="player-scores-list">
                    <!-- Player scores will be injected here -->
                </div>

                <div class="tip-box">
                    <p><strong>TIP:</strong> Use <span>SPACE BAR</span> to End Turn</p>
                </div>

                <button class="menu-btn" onclick="toggleOptions()">RESUME GAME</button>
                <button class="menu-btn end-game-btn" onclick="endGame()">END GAME</button>
            </div>
        </div>

        <div id="bee-panel"></div>
        <div id="win-modal"
            style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 200; justify-content: center; align-items: center; flex-direction: column; color: white;">
            <h1 id="winner-text" style="font-size: 48px; margin-bottom: 20px;">Player Wins!</h1>
            <button onclick="location.reload()"
                style="padding: 15px 30px; font-size: 24px; cursor: pointer; background: #2ecc71; border: none; color: white; border-radius: 5px;">Play
                Again</button>
        </div>
        <div id="board"></div>

        <!-- Status Bar Container -->
        <div id="status-bar-container"></div>
    </div>
    <script src="script.js"></script>
</body>

</html>